<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Maintenance Desk Lite â€” Building R (Light)</title>
<link rel="stylesheet" href="../styles.css"/>
</head>

<!-- start in LIGHT mode -->
<body class="theme-light">
<header>
  <h1>Maintenance Desk Lite <span class="badge">R</span></h1>
  <p>Offline-first prototype. Tickets saved in your browser.</p>
  <button id="themeToggle" class="ghost">Dark mode</button>
  /* Light theme overrides for the light/ page */
:root{
  --bg:#f4f6f8; --card:#ffffff; --subtle:#eef2f6;
  --text:#0d1b2a; --muted:#556070; --accent:#20c997; --accent-2:#3ea8ff;
  --danger:#ff4d6d; --warn:#ffb020; --ok:#2fcf8f;
}
body{background: linear-gradient(180deg,#f7f9fc 0%,#eef2f6 100%); color: var(--text);}
header{background:#0d1b2a; color:#fff;}
.card{border:1px solid #e6ecf2; box-shadow:0 8px 24px rgba(0,0,0,.06);}
input,select,textarea,button{background:#fff; border:1px solid #d9e1ea; color:var(--text);}

</header>

<main>
  <section class="card">
    <h2>New Ticket</h2>
    <form id="ticketForm">
      <div class="grid">
        <label>Unit
          <input list="units" name="unit_code" required placeholder="R-0123"/>
        </label>
        <label>Category
          <select name="category" required id="categorySelect"></select>
        </label>
        <label>Priority
          <select name="priority" id="prioritySelect">
            <option>Normal</option><option>Urgent</option><option>Emergency</option>
          </select>
        </label>
        <label>Contact Name <input name="contact_name" placeholder="Juan Dela Cruz"/></label>
        <label>Contact Phone <input name="contact_phone" placeholder="+63"/></label>
      </div>
      <label>Description
        <textarea name="description" rows="3" placeholder="Describe the issue..."></textarea>
      </label>
      <button type="submit">Submit Ticket</button>
    </form>
    <datalist id="units"></datalist>
  </section>

  <section class="card">
    <h2>Queue</h2>
    <div id="queue"></div>
    <div class="actions">
      <button id="exportCsv">Export CSV</button>
      <button id="clearAll">Clear (local)</button>
    </div>
  </section>
</main>

<footer>
  <small>R-only. Customize data in <code>/data</code>. SLA visible in <code>/data/sla_matrix.csv</code>.</small>
</footer>

<!-- reuse the same JS -->
<script src="../app.js"></script>

<!-- theme toggle (same as root page) -->
<script>
  const btn = document.getElementById('themeToggle');
  function apply(theme){
    document.body.classList.toggle('theme-light', theme === 'light');
    document.body.classList.toggle('theme-dark', theme === 'dark');
    localStorage.setItem('theme', theme);
    btn.textContent = theme === 'light' ? 'Dark mode' : 'Light mode';
  }
  const initial = document.body.classList.contains('theme-light') ? 'light'
    : (localStorage.getItem('theme') ||
      (window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark'));
  apply(initial);
  btn.addEventListener('click', () => apply(
    document.body.classList.contains('theme-light') ? 'dark' : 'light'
  ));
</script>
</body>
</html>
