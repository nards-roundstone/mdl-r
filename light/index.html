<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Maintenance Desk Lite â€” Building R (Light)</title>
<link rel="stylesheet" href="../styles.css"/>
<link rel="stylesheet" href="light.css"/>
</head>
<body class="theme-light">
<header>
  <h1>Maintenance Desk Lite <span class="badge">R</span></h1>
  <p>Offline-first prototype. Tickets saved in your browser.</p>
  <button id="themeToggle" class="ghost">Dark mode</button>
</header>

<main>
  <section class="card">
    <h2>New Ticket</h2>
    <form id="ticketForm">
      <div class="grid">
        <label>Unit
          <input list="units" name="unit_code" required placeholder="R-0123"/>
        </label>
        <label>Category
          <select name="category" required id="categorySelect"></select>
        </label>
        <label>Priority
          <select name="priority" id="prioritySelect">
            <option>Normal</option><option>Urgent</option><option>Emergency</option>
          </select>
        </label>
        <label>Contact Name <input name="contact_name" placeholder="Juan Dela Cruz"/></label>
        <label>Contact Phone <input name="contact_phone" placeholder="+63"/></label>
      </div>
      <label>Description
        <textarea name="description" rows="3" placeholder="Describe the issue..."></textarea>
      </label>
      <button type="submit">Submit Ticket</button>
    </form>
    <datalist id="units"></datalist>
  </section>

  <section class="card">
    <h2>Queue</h2>
    <div id="queue"></div>
    <div class="actions">
      <button id="exportCsv">Export CSV</button>
      <button id="clearAll">Clear (local)</button>
    </div>
  </section>
</main>

<footer>
  <small>R-only. Customize data in <code>/data</code>. SLA visible in <code>/data/sla_matrix.csv</code>.</small>
</footer>

<script src="../app.js"></script>
<script>
  const btn = document.getElementById('themeToggle');
  function apply(theme){
    document.body.classList.toggle('theme-light', theme === 'light');
    document.body.classList.toggle('theme-dark',  theme === 'dark');
    localStorage.setItem('theme', theme);
    btn.textContent = theme === 'light' ? 'Dark mode' : 'Light mode';
  }
  // Start in light, but remember user choice
  apply(localStorage.getItem('theme') || 'light');

  btn.addEventListener('click', () =>
    apply(document.body.classList.contains('theme-light') ? 'dark' : 'light')
  );
</script>
<script src="../js/help_popover.js"></script>

</body>
</html>
